# Staticmarkup for isolux.ru skin 'adaptive'

## Настройка сборки
Все команды выполняем в корневной директории проекта.

1. install node js [nodejs](https://nodejs.org/en/)
2. ```npm install``` - install all required dependencies
3. ```npm install --global gulp-cli``` - install gulp as global variable



## Основные команды для сборки стилей
* ```gulp dev``` - запуск сервера разработки (включает в себя поддержку sourcemaps)
* ```gulp concat-css``` - сборка всех файлов css ([autoprefixer](https://github.com/postcss/autoprefixer), [gcmq](https://github.com/Se7enSky/group-css-media-queries), [clean-css](https://github.com/jakubpawlowicz/clean-css)), минификация, ревизия
* ```gulp concat-js``` - сборка основных плагинов js, на выходе получаем plugins.js (просто склеивает нужные нам js)


**ACHTUNG!**

Очень внимательно проверяем верстку на этапе **gulp concat-css**, т.к. происходит объединение однотипных стилей и медиа-запросов,
происходит перенос строк внутри файлы и может произойти "перебивание" селекторов. На выходе можем получить неожиданный результат.
Но, как правило, при соблюдении методологии проблемы возникать не должны.


## Общая информация о сборке

В основе сборки лежит [browsersync](https://browsersync.io/) - nodejs сервер c
поддержкой livereload. Все изменения в src отслеживаются, автоматически компилируются и происходит
практически мгновенная перезагрузка страницы (cache сбрасывается автоматически).

**дефолтный url:port**

* http://localhost:3000/ - корневая страница
* http://localhost:3001/ - страница управления сервера

В качестве препроцессора используем [Less](http://lesscss.org/).
Для html примитивный ["шаблонизатор"](https://www.npmjs.com/package/gulp-file-include).
Таким образом на выходе имеем строгую файловую структуру, можем гибко подключать/удалять модули.
Все корневые файлы .less начинаются с префикса main-
Все корневые файлы .html начинаются с префикса index-

## Рекомендации по верстке
* У каждого тега должен быть класс.
* Стараемся придерживаться [BEM](https://ru.bem.info/).
* В html тегах используем следующий порядок атрибутов: class="", id="", индивидуальные атрибуты тегов(type, href и т.п), data-атрибуты.
* Стараемся грамотно проектировать компоненты верстки, переиспользуем их.
* Чем меньше тегов на странице - тем лучше.
* Чем проще css-селектор - тем лучше.
* Все минифицируем для прода!
* Проверяем во всех доступных браузерах (ie9+) и всех доступных эмуляторах, девайсах, виртуалках.
* Перед продом всё и всегда тестируем на дебаге.
